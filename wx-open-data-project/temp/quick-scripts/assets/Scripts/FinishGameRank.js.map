{"version":3,"sources":["FinishGameRank.js"],"names":["cc","Class","extends","Component","properties","rankNodes","type","Node","default","loadRank","data","i","length","dd","itemNode","getChildByName","getComponent","Label","string","rank","nickname","j","KVDataList","kvdata","key","value","my","color","loadImage","avatarUrl","node","url","loader","load","err","tex","Sprite","spriteFrame","SpriteFrame"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,UAASF,GAAGG,SADP;;AAGLC,aAAY;AACdC,aAAU;AACTC,SAAKN,GAAGO,IADC;AAETC,YAAQ;AAFC;AADI,EAHP;AASRC,SATQ,oBASCC,IATD,EASM;AACb;AACA,OAAI,IAAIC,IAAI,CAAZ,EAAcA,IAAID,KAAKE,MAAvB,EAA8BD,GAA9B,EAAkC;AACjC,OAAIE,KAAKH,KAAKC,CAAL,CAAT;AACA,OAAIG,WAAW,KAAKT,SAAL,CAAeM,CAAf,CAAf;AACAG,YAASC,cAAT,CAAwB,WAAxB,EAAqCC,YAArC,CAAkDhB,GAAGiB,KAArD,EAA4DC,MAA5D,GAAqEL,GAAGM,IAAxE;AACAL,YAASC,cAAT,CAAwB,WAAxB,EAAqCC,YAArC,CAAkDhB,GAAGiB,KAArD,EAA4DC,MAA5D,GAAqEL,GAAGO,QAAxE;AACAN,YAASC,cAAT,CAAwB,YAAxB,EAAsCC,YAAtC,CAAmDhB,GAAGiB,KAAtD,EAA6DC,MAA7D,GAAsE,CAAtE;AACA,QAAI,IAAIG,IAAI,CAAZ,EAAcA,IAAIR,GAAGS,UAAH,CAAcV,MAAhC,EAAuCS,GAAvC,EAA2C;AAC1C,QAAIE,SAASV,GAAGS,UAAH,CAAcD,CAAd,CAAb;AACA,QAAGE,OAAOC,GAAP,IAAc,UAAjB,EAA4B;AAC3BV,cAASC,cAAT,CAAwB,YAAxB,EAAsCC,YAAtC,CAAmDhB,GAAGiB,KAAtD,EAA6DC,MAA7D,GAAsEK,OAAOE,KAA7E;AACA;AACD;AACD,OAAGZ,GAAGa,EAAH,IAAS,IAAZ,EAAiB;AAChBZ,aAASC,cAAT,CAAwB,YAAxB,EAAsCY,KAAtC,GAA8C,IAAI3B,GAAG2B,KAAP,CAAa,SAAb,CAA9C;AACAb,aAASC,cAAT,CAAwB,WAAxB,EAAqCY,KAArC,GAA6C,IAAI3B,GAAG2B,KAAP,CAAa,SAAb,CAA7C;AACAb,aAASC,cAAT,CAAwB,WAAxB,EAAqCY,KAArC,GAA6C,IAAI3B,GAAG2B,KAAP,CAAa,SAAb,CAA7C;AACA;AACD,QAAKC,SAAL,CAAed,QAAf,EAAwBD,GAAGgB,SAA3B;AACA;AACD,EA9BO;AA+BRD,UA/BQ,qBA+BEE,IA/BF,EA+BOC,GA/BP,EA+BW;AAClB/B,KAAGgC,MAAH,CAAUC,IAAV,CAAe,EAACF,KAAIA,GAAL,EAAUzB,MAAM,KAAhB,EAAf,EAAuC,UAAU4B,GAAV,EAAeC,GAAf,EAAoB;AAC1D;AACAL,QAAKf,cAAL,CAAoB,cAApB,EAAoCC,YAApC,CAAiDhB,GAAGoC,MAApD,EAA4DC,WAA5D,GAA0E,IAAIrC,GAAGsC,WAAP,CAAmBH,GAAnB,CAA1E;AACA,GAHD;AAIA;AApCO,CAAT","file":"FinishGameRank.js","sourceRoot":"..\\..\\..\\..\\assets\\Scripts","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\t\trankNodes:{\r\n\t\t\ttype:cc.Node,\r\n\t\t\tdefault:[]\r\n\t\t}\r\n    },\r\n\tloadRank(data){\r\n\t\t//console.log(data);\r\n\t\tfor(var i = 0;i < data.length;i++){\r\n\t\t\tvar dd = data[i];\r\n\t\t\tvar itemNode = this.rankNodes[i];\r\n\t\t\titemNode.getChildByName(\"rankLabel\").getComponent(cc.Label).string = dd.rank;\r\n\t\t\titemNode.getChildByName(\"nameLabel\").getComponent(cc.Label).string = dd.nickname;\r\n\t\t\titemNode.getChildByName(\"scoreLabel\").getComponent(cc.Label).string = 0;\r\n\t\t\tfor(var j = 0;j < dd.KVDataList.length;j++){\r\n\t\t\t\tvar kvdata = dd.KVDataList[j];\r\n\t\t\t\tif(kvdata.key == \"maxScore\"){\r\n\t\t\t\t\titemNode.getChildByName(\"scoreLabel\").getComponent(cc.Label).string = kvdata.value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(dd.my == true){\r\n\t\t\t\titemNode.getChildByName(\"scoreLabel\").color = new cc.color(\"#ba5a55\");\r\n\t\t\t\titemNode.getChildByName(\"rankLabel\").color = new cc.color(\"#ba5a55\");\r\n\t\t\t\titemNode.getChildByName(\"nameLabel\").color = new cc.color(\"#ba5a55\");\r\n\t\t\t}\r\n\t\t\tthis.loadImage(itemNode,dd.avatarUrl);\r\n\t\t}\r\n\t},\r\n\tloadImage(node,url){\r\n\t\tcc.loader.load({url:url, type: 'png'}, function (err, tex) {\r\n\t\t\t//console.log(\"loadImage\",url,node);\r\n\t\t\tnode.getChildByName(\"avatarSprite\").getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(tex);\r\n\t\t});\r\n\t}\r\n});\r\n"]}